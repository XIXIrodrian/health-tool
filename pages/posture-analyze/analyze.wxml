<!--pages/posture-analyze/analyze.wxml-->
<view class="container">
  <view class="page-header">
    <text class="page-title">坐姿分析</text>
    <text class="page-desc">实时检测坐姿，提供健康建议</text>
  </view>

  <!-- 拍照区域 -->
  <view class="camera-section">
    <view class="camera-placeholder">
      <image class="placeholder-icon" src="/images/icon-posture.png" mode="aspectFit"></image>
      <text class="placeholder-text">请拍摄您的坐姿照片</text>
    </view>
  </view>

  <!-- 功能按钮 -->
  <view class="action-buttons">
    <button class="btn btn-primary" bindtap="takePhoto">开始拍摄</button>
    <button class="btn btn-secondary" bindtap="chooseImage">从相册选择</button>
  </view>

  <!-- 分析结果区域（初始隐藏） -->
  <view class="result-section" wx:if="{{hasResult}}">
    <text class="result-title">分析结果</text>
    <!-- 结果内容将在后续实现 -->
  </view>

  <!-- 扫描动画遮罩 -->
  <view class="scanning-overlay" wx:if="{{scanning}}">
    <view class="scanning-content">
      <!-- 卡通扫描图标 -->
      <view class="cartoon-icon">
        <text class="icon-emoji">🧘</text>
        <view class="scan-ripple"></view>
        <view class="scan-ripple ripple-delay"></view>
      </view>

      <view class="scan-box">
        <view class="scan-line"></view>
        <view class="corner corner-tl"></view>
        <view class="corner corner-tr"></view>
        <view class="corner corner-bl"></view>
        <view class="corner corner-br"></view>
        <!-- 装饰星星 -->
        <view class="star star-1">✨</view>
        <view class="star star-2">✨</view>
        <view class="star star-3">💫</view>
      </view>

      <view class="scanning-text">
        <text class="scan-title">AI分析中</text>
        <view class="loading-dots">
          <text class="dot">●</text>
          <text class="dot">●</text>
          <text class="dot">●</text>
        </view>
      </view>

      <!-- 进度条 -->
      <view class="progress-container">
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{progress}}%"></view>
          <view class="progress-glow" style="left: {{progress}}%"></view>
        </view>
        <text class="progress-text">{{progress}}%</text>
      </view>

      <text class="scan-tip">正在分析坐姿健康状况</text>
    </view>
  </view>
</view>