<!--pages/furniture-guide/guide.wxml-->
<view class="container">
  <view class="page-header">
    <text class="page-title">家具避雷指南</text>
    <text class="page-desc">科学选材，远离健康风险</text>
  </view>

  <!-- 搜索栏 -->
  <view class="search-section">
    <view class="search-bar">
      <image class="search-icon" src="/images/icon-search.png" mode="aspectFit"></image>
      <input class="search-input" placeholder="搜索家具类型或材质" bindinput="onSearchInput"/>
    </view>
  </view>

  <!-- 家具分类标签 -->
  <view class="category-tabs">
    <view class="tab-item {{currentCategory === 'all' ? 'active' : ''}}" bindtap="switchCategory" data-category="all">
      <text>全部</text>
    </view>
    <view class="tab-item {{currentCategory === 'chair' ? 'active' : ''}}" bindtap="switchCategory" data-category="chair">
      <text>椅子</text>
    </view>
    <view class="tab-item {{currentCategory === 'table' ? 'active' : ''}}" bindtap="switchCategory" data-category="table">
      <text>桌子</text>
    </view>
    <view class="tab-item {{currentCategory === 'bed' ? 'active' : ''}}" bindtap="switchCategory" data-category="bed">
      <text>床</text>
    </view>
    <view class="tab-item {{currentCategory === 'sofa' ? 'active' : ''}}" bindtap="switchCategory" data-category="sofa">
      <text>沙发</text>
    </view>
  </view>

  <!-- 家具列表 -->
  <view class="furniture-list">
    <view class="furniture-card" wx:for="{{filteredFurniture}}" wx:key="id" bindtap="viewDetail" data-id="{{item.id}}">
      <!-- 家具图片 -->
      <view class="card-image-wrapper">
        <image class="card-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="category-badge">{{item.categoryName}}</view>
      </view>

      <!-- 家具信息 -->
      <view class="card-body">
        <text class="furniture-name">{{item.name}}</text>
        <text class="furniture-desc">{{item.description}}</text>

        <!-- 材质统计 -->
        <view class="material-stats">
          <view class="stat-item stat-good">
            <text class="stat-icon">✓</text>
            <text class="stat-text">{{item.goodMaterials}}种优选材质</text>
          </view>
          <view class="stat-item stat-bad">
            <text class="stat-icon">✗</text>
            <text class="stat-text">{{item.badMaterials}}种需避雷</text>
          </view>
        </view>

        <!-- 查看详情按钮 -->
        <view class="view-detail-btn">
          <text>查看材质分析</text>
          <text class="arrow">›</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{filteredFurniture.length === 0}}">
    <image class="empty-icon" src="/images/icon-empty.png" mode="aspectFit"></image>
    <text class="empty-text">暂无相关家具信息</text>
  </view>
</view>